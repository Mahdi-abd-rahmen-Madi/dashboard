<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/styles.css">
        <link rel="stylesheet" href="css/leaflet.css"><link rel="stylesheet" href="css/L.Control.Locate.min.css">
        <link rel="stylesheet" href="css/qgis2web.css"><link rel="stylesheet" href="css/fontawesome-all.min.css">
        <link rel="stylesheet" href="css/filter.css">
        <link rel="stylesheet" href="css/nouislider.min.css">
        <link rel="stylesheet" href="css/leaflet-control-geocoder.Geocoder.css">
        <link rel="stylesheet" href="css/leaflet-measure.css">
        <link rel="stylesheet" href="Leaflet-MiniMap-master/src/Control.MiniMap.css">
        <script src="Leaflet-MiniMap-master/src/Control.MiniMap.js" type="text/javascriptf"></script>
        <script src="https://kit.fontawesome.com/97a93053e0.js" crossorigin="anonymous"></script>
        <title>Dashboard</title>
    </head>
  <body>
    <!---------------------------------------- content : preloader ------------------------------------->  
    <div id="preloader">
      <div class="spinner">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>
    <!------------------------------------------------ Content : navigation bar  ------------------------------------------->
    <nav data-toggled="false" data-transitionable="false">
      <div id="nav-logo-section" class="nav-section">
        <a href="#">
          <h4>Dashboard</h4>
        </a>
      </div>
      <div id="nav-mobile-section">
        <div id="nav-link-section" class="nav-section">
          <a href="https://mahdi-abd-rahmen-madi.github.io/portfolio/#about">ABOUT</a>
          <a href="https://mahdi-abd-rahmen-madi.github.io/portfolio/#portfolio">WORK</a>
          <a href="https://mahdi-abd-rahmen-madi.github.io/portfolio/#services">SERVICES</a>
        </div>
        <div id="nav-social-section" class="nav-section">
          <a href="https://www.linkedin.com/in/mahdi-madi-a835a0188/" title="linkedin"target="_blank" alt="linkedin">
            <i class="fa-brands fa-linkedin"></i>
          </a>
          <a href="https://github.com/Mahdi-abd-rahmen-Madi" title="GitHub" target="_blank" alt="github">
            <i class="fa-brands fa-github"></i>
          </a>    
          <a href="mailto:mahdiabderrahmen@duck.com" title="Reach out via email" alt="email">
            <i class="fa-regular fa-envelope fa-bounce"></i>
          </a>
        </div>
        <div id="nav-contact-section" class="nav-section">
          <a href="https://mahdi-abd-rahmen-madi.github.io/portfolio/#contact">GET IN TOUCH</a>
        </div>
      </div>
      <button id="nav-toggle-button" type="button" onclick="handleNavToggle()">
        <span>Menu</span>
        <i class="fa-solid fa-bars"></i>
      </button>
    </nav>
    
    <main>     
    <!-------------------------------- Content : Landing page.main  --------------------------------------------------->
    <article data-index="0" data-status="active">
      <div id="map"class="article-image-section article-section"></div>
      <div class="article-description-section article-section">
      <div  id="menu1">
        
      </div>
        
        <!--
          <p>
          This is a .................
          <a class="source-link" href="https://mahdi-abd-rahmen-madi.github.io/portfolio/" target="_blank"><br> learn more</a>
        </p>
        -->
      </div>
      <div class="article-title-section article-section">
        <h2>Geological and geographical distribution of various deposits</h2>
        <i class="fa-solid fa-plus"></i>
      </div>
      <div class="article-nav-section article-section">
        <button class="article-nav-button" type="button" onclick="handleLeftClick()">
          <i class="fa-solid fa-chevron-left"></i>
        </button>
        <button class="article-nav-button" type="button" onclick="handleRightClick()">
          <i class="fa-solid fa-chevron-right fa-fade"></i>
        </button>
      </div>
    </article>  
    <!---------------------------------------- content : page 2 ---------------------------------------------------->
    <article data-index="1" data-status="inactive">    
      <div class="article-image-section article-section"></div>
      <div class="article-description-section article-section">
        <p>Inflation and investing in cryptocurrency can impact your financial future. 
          <br>Inflation erodes the value of money,
          <br>while cryptocurrency investing can be risky.
          <br>This article discusses strategies for navigating the complex world of inflation and cryptocurrency investing and protecting your financial future.
        </p>
      </div>
      <div class="article-title-section article-section">
          <h2>Chapter 1 : Inflation and investing</h2>
        <i class="fa-light fa-plus-large"></i>
      </div>
      <div class="article-nav-section article-section">
        <button class="article-nav-button" type="button" onclick="handleLeftClick()">
          <i class="fa-light fa-arrow-left-long"></i>
        </button>
        <button class="article-nav-button" type="button" onclick="handleRightClick()">
          <i class="fa-light fa-arrow-right-long"></i>
        </button>
      </div>
    </article>
    <!---------------------------------------- content : page 3 ----------------------------------------------------->
    <article data-index="2" data-status="inactive">    
      <div class="article-image-section article-section"></div>
      <div class="article-description-section article-section">
        <p>The neatest lighthouse you ever saw. Ehh, actually it's kind of messy. But that's why the pic is of the outside.</p>
      </div>
      <div class="article-title-section article-section">
        <h2>Chapter 2 :</h2>
        <i class="fa-light fa-plus-large"></i>
      </div>
      <div class="article-nav-section article-section">
        <button class="article-nav-button" type="button" onclick="handleLeftClick()">
          <i class="fa-light fa-arrow-left-long"></i>
        </button>
        <button class="article-nav-button" type="button" onclick="handleRightClick()">
          <i class="fa-light fa-arrow-right-long"></i>
        </button>
      </div>
    </article>
    <!---------------------------------------- content : page 4 ------------------------------------------------------>
    <article data-index="3" data-status="inactive">    
      <div class="article-image-section article-section"></div>
      <div class="article-description-section article-section">
        <p>
          The blobiest of blobs nestled deep in the heart of outer space. Well, technically the universe is both infinite and homogeneous so there isn't really a heart, per se.
        </p>
      </div>
      <div class="article-title-section article-section">
        <h2>Chapter 3 :</h2>
        <i class="fa-light fa-plus-large"></i>
      </div>
      <div class="article-nav-section article-section">
        <button class="article-nav-button" type="button" onclick="handleLeftClick()">
          <i class="fa-light fa-arrow-left-long"></i>
        </button>
        <button class="article-nav-button" type="button" onclick="handleRightClick()">
          <i class="fa-light fa-arrow-right-long"></i>
        </button>
      </div>
    </article>
    <!------------------------------------------- content : page 5 --------------------------------------------------------->
    <article data-index="4" data-status="inactive">    
      <div class="article-image-section article-section"></div>
      <div class="article-description-section article-section">
        <p>
          The blobiest of blobs nestled deep in the heart of outer space. Well, technically the universe is both infinite and homogeneous so there isn't really a heart, per se.
        </p>
      </div>
      <div class="article-title-section article-section">
        <h2>Chapter 4 :</h2>
        <i class="fa-light fa-plus-large"></i>
      </div>
      <div class="article-nav-section article-section">
        <button class="article-nav-button" type="button" onclick="handleLeftClick()">
          <i class="fa-light fa-arrow-left-long"></i>
        </button>
        <button class="article-nav-button" type="button" onclick="handleRightClick()">
          <i class="fa-light fa-arrow-right-long"></i>
        </button>
      </div>
    </article>

    <!-------------------------------------------- content : page 6 -------------------------------------------------------->

    <article data-index="5" data-status="inactive">    
      <div class="article-image-section article-section"></div>
      <div class="article-description-section article-section">
        <p>
          The blobiest of blobs nestled deep in the heart of outer space. Well, technically the universe is both infinite and homogeneous so there isn't really a heart, per se.
        </p>
      </div>
      <div class="article-title-section article-section">
        <h2>Chapter 5 :</h2>
        <i class="fa-light fa-plus-large"></i>
      </div>
      <div class="article-nav-section article-section">
        <button class="article-nav-button" type="button" onclick="handleLeftClick()">
          <i class="fa-light fa-arrow-left-long"></i>
        </button>
        <button class="article-nav-button" type="button" onclick="handleRightClick()">
          <i class="fa-light fa-arrow-right-long"></i>
        </button>
      </div>
    </article>  
    <!----------------------------------------------------------------------- content : scripts  ------------------------------------------------------->
    <script src="js/qgis2web_expressions.js"></script>
    <script src="js/leaflet.js"></script><script src="js/L.Control.Locate.min.js"></script>
    <script src="js/leaflet.rotatedMarker.js"></script>
    <script src="js/leaflet.pattern.js"></script>
    <script src="js/leaflet-hash.js"></script>
    <script src="js/Autolinker.min.js"></script>
    <script src="js/rbush.min.js"></script>
    <script src="js/labelgun.min.js"></script>
    <script src="js/labels.js"></script>
    <script src="js/leaflet-control-geocoder.Geocoder.js"></script>
    <script src="js/leaflet-measure.js"></script>
    <script src="js/tailDT.js"></script>
    <script src="js/nouislider.min.js"></script>
    <script src="js/wNumb.js"></script>
    <script src="data/stratigraphy_1.js"></script>
    <script src="data/deposits_2.js"></script>
    <script src="data/faults_3.js"></script>
    <script src="app.js"></script>
    <script>
    // =================================================================== highlight features ===============================================
    var highlightLayer;
        function highlightFeature(e) {
            highlightLayer = e.target;

            if (e.target.feature.geometry.type === 'LineString') {
              highlightLayer.setStyle({
                color: '#78b5f6',
              });
            } else {
              highlightLayer.setStyle({
                fillColor: '#78b5f6',
                fillOpacity: 1
              });
            }
            highlightLayer.openPopup();
        }
    // ============================================================ Zoom control ================================================
        var map = L.map('map', {zoomControl:true, maxZoom:15, minZoom:6, zoomDelta: 0.25,zoomSnap: 0}).setView([34.462, 11.379],6);
    // =========================================================== Attribution ==================================================
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
    // =======================================================================================================================        
        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});
    // =========================================================== Content : Geolocate =================================================================================        
        L.control.locate({locateOptions: {maxZoom: 19}}).addTo(map);
    // =========================================================== Content : Measure Control ===================================================================================
        var measureControl = new L.Control.Measure({
            position: 'topleft',
            primaryLengthUnit: 'meters',
            secondaryLengthUnit: 'kilometers',
            primaryAreaUnit: 'sqmeters',
            secondaryAreaUnit: 'hectares'
        });
        measureControl.addTo(map);
        document.getElementsByClassName('leaflet-control-measure-toggle')[0]
        .innerHTML = '';
        document.getElementsByClassName('leaflet-control-measure-toggle')[0]
        .className += ' fas fa-ruler';
    // =========================================================== bound box ============================================         
        var bounds_group = new L.featureGroup([]);
        function setBounds() {
            if (bounds_group.getLayers().length) {
                map.fitBounds(bounds_group.getBounds(),{padding: [100,20]});
            }
        }
    // =========================================================== Content : Tile Layer =======================================================================        
        map.createPane('pane_ESRISatellite_0');
        map.getPane('pane_ESRISatellite_0').style.zIndex = 400;
        map.getPane('pane_ESRISatellite_0').style.pointerEvents = 'none';
        var layer_ESRISatellite_0 = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
            pane: 'pane_ESRISatellite_0',
            opacity: 1.0,
            attribution: '<a href="">ESRI satellite</a>',
            minZoom: 0,
            maxZoom: 28
        });
        layer_ESRISatellite_0;
        map.addLayer(layer_ESRISatellite_0);

    // ======================================================== content : Scale ============================================================================
        L.control.scale().addTo(map);
    // =========================================================== Content : Stratigraphy ===================================================================

        function pop_stratigraphy_1(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (i in e.target._eventParents) {
                        e.target._eventParents[i].resetStyle(e.target);
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function(feature){
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
    // =========================================================== content : Stratigraphy popup ====================================
            /*
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['age'] !== null ? autolinker.link(feature.properties['age'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Shape_tect'] !== null ? autolinker.link(feature.properties['Shape_tect'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 300});*/
        }

    // ========================================================== content : stratigraphy styles ==========================================

        function style_stratigraphy_1_0(feature) {
            switch(String(feature.properties['age'])) {
                case 'quaternary':
                    return {
                pane: 'pane_stratigraphy_1',
                opacity: 1,
                color: 'rgba(0,0,0,0.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,255,0.501)',
                interactive: false,
            }
                    break;
                case 'neogene':
                    return {
                pane: 'pane_stratigraphy_1',
                opacity: 1,
                color: 'rgba(0,0,0,0.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,239,59,0.501)',
                interactive: false,
            }
                    break;
                case 'eocene - oligocene':
                    return {
                pane: 'pane_stratigraphy_1',
                opacity: 1,
                color: 'rgba(0,0,0,0.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,196,69,0.501)',
                interactive: false,
            }
                    break;
                case 'cretaceous':
                    return {
                pane: 'pane_stratigraphy_1',
                opacity: 1,
                color: 'rgba(0,0,0,0.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(166,255,165,0.501)',
                interactive: false,
            }
                    break;
                case 'jurassic':
                    return {
                pane: 'pane_stratigraphy_1',
                opacity: 1,
                color: 'rgba(0,0,0,0.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(44,124,235,0.501)',
                interactive: false,
            }
                    break;
                case 'triasic':
                    return {
                pane: 'pane_stratigraphy_1',
                opacity: 1,
                color: 'rgba(0,0,0,0.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(222,112,171,0.501)',
                interactive: false,
            }
                    break;
                case 'permien':
                    return {
                pane: 'pane_stratigraphy_1',
                opacity: 1,
                color: 'rgba(0,0,0,0.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(193,65,45,0.501)',
                interactive: false,
            }
                    break;
            }
        }
        map.createPane('pane_stratigraphy_1');
        map.getPane('pane_stratigraphy_1').style.zIndex = 401;
        map.getPane('pane_stratigraphy_1').style['mix-blend-mode'] = 'normal';
        var layer_stratigraphy_1 = new L.geoJson(json_stratigraphy_1, {
            attribution: '',
            interactive: false,
            dataVar: 'json_stratigraphy_1',
            layerName: 'layer_stratigraphy_1',
            pane: 'pane_stratigraphy_1',
            onEachFeature: pop_stratigraphy_1,
            style: style_stratigraphy_1_0,
        });
        bounds_group.addLayer(layer_stratigraphy_1);
        map.addLayer(layer_stratigraphy_1);
    // ====================================================================== Content : deposits ==================================================================
        function pop_deposits_2(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (i in e.target._eventParents) {
                        e.target._eventParents[i].resetStyle(e.target);
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function(feature){
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
      // ===================================================== content : Deposits popup ================================================
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Name</th>\
                        <td>' + (feature.properties['name'] !== null ? autolinker.link(feature.properties['name'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Type</th>\
                        <td>' + (feature.properties['type'] !== null ? autolinker.link(feature.properties['type'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Category</th>\
                        <td>' + (feature.properties['category'] !== null ? autolinker.link(feature.properties['category'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Age</th>\
                        <td>' + (feature.properties['age'] !== null ? autolinker.link(feature.properties['age'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Structure</th>\
                        <td>' + (feature.properties['structure'] !== null ? autolinker.link(feature.properties['structure'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Morphology</th>\
                        <td>' + (feature.properties['morphology'] !== null ? autolinker.link(feature.properties['morphology'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Size</th>\
                        <td>' + (feature.properties['size'] !== null ? autolinker.link(feature.properties['size'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Reserve</th>\
                        <td>' + (feature.properties['reserve'] !== null ? autolinker.link(feature.properties['reserve'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">status1983</th>\
                        <td>' + (feature.properties['status1983'] !== null ? autolinker.link(feature.properties['status1983'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 350});
        }

        // ====================================== content : deposits styles ============================
        function style_deposits_2_0(feature) {
            var context = {
                feature: feature,
                variables: {}
            };
            // Start of if blocks and style check logic
            if (exp_deposits_2rule0_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 8.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,95,218,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule1_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 6.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,95,218,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule2_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,95,218,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule3_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 2.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,95,218,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule4_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 8.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(96,197,76,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule5_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 6.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(96,197,76,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule6_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(96,197,76,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule7_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 2.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(96,197,76,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule8_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 8.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,237,170,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule9_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 6.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,237,170,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule10_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,237,170,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule11_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 2.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,237,170,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule12_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 8.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(128,255,1,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule13_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 6.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(128,255,1,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule14_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(128,255,1,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule15_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 2.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(128,255,1,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule16_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 8.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(210,210,210,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule17_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 6.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(210,210,210,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule18_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(210,210,210,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule19_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 2.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(210,210,210,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule20_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 8.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(254,81,78,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule21_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 6.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(254,81,78,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule22_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(254,81,78,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule23_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 2.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(254,81,78,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule24_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 8.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(144,142,142,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule25_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 6.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(144,142,142,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule26_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(35,35,35,0.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(144,142,142,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule27_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 2.0,
                opacity: 1,
                color: 'rgba(35,35,35,0.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(144,142,142,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule28_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 8.0,
                opacity: 1,
                color: 'rgba(35,35,35,0.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(193,61,107,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule29_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 6.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(193,61,107,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule30_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(193,61,107,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule31_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 2.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(193,61,107,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule32_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 8.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(235,91,101,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule33_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 6.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(235,91,101,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule34_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(235,91,101,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule35_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 2.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(235,91,101,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule36_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 8.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(226,184,230,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule37_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 6.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(226,184,230,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule38_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(226,184,230,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule39_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 2.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(226,184,230,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule40_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 8.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(49,155,13,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule41_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 6.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(49,155,13,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule42_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(49,155,13,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule43_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 2.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(49,155,13,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule44_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 8.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(107,146,219,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule45_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 6.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(107,146,219,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule46_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(107,146,219,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule47_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 2.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(107,146,219,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule48_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 8.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,217,246,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule49_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 6.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,217,246,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule50_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,217,246,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule51_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 2.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,217,246,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule52_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 8.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,188,87,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule53_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 6.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,188,87,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule54_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,188,87,1.0)',
                interactive: true,
            };
                }
                else if (exp_deposits_2rule55_eval_expression(context)) {
                  return {
                pane: 'pane_deposits_2',
                radius: 2.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,188,87,1.0)',
                interactive: true,
            };
                }
            else {
                return {fill: false, stroke: false};
            }
        }
        map.createPane('pane_deposits_2');
        map.getPane('pane_deposits_2').style.zIndex = 402;
        map.getPane('pane_deposits_2').style['mix-blend-mode'] = 'normal';
        var layer_deposits_2 = new L.geoJson(json_deposits_2, {
            attribution: '',
            interactive: true,
            dataVar: 'json_deposits_2',
            layerName: 'layer_deposits_2',
            pane: 'pane_deposits_2',
            onEachFeature: pop_deposits_2,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_deposits_2_0(feature));
            },
        });
        bounds_group.addLayer(layer_deposits_2);
        map.addLayer(layer_deposits_2);
    // ======================================================================== Content : Faults ==========================================================================
       function pop_faults_3(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (i in e.target._eventParents) {
                        e.target._eventParents[i].resetStyle(e.target);
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function(feature){
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            /*
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['type'] !== null ? autolinker.link(feature.properties['type'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['length'] !== null ? autolinker.link(feature.properties['length'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});*/
        }

        function style_faults_3_0() {
            return {
                pane: 'pane_faults_3',
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 1.0,
                fillOpacity: 0,
                interactive: false,
            }
        }
        map.createPane('pane_faults_3');
        map.getPane('pane_faults_3').style.zIndex = 403;
        map.getPane('pane_faults_3').style['mix-blend-mode'] = 'normal';
        var layer_faults_3 = new L.geoJson(json_faults_3, {
            attribution: '',
            interactive: false,
            dataVar: 'json_faults_3',
            layerName: 'layer_faults_3',
            pane: 'pane_faults_3',
            onEachFeature: pop_faults_3,
            style: style_faults_3_0,
        });
        bounds_group.addLayer(layer_faults_3);
        map.addLayer(layer_faults_3);

// ============================================================ Content : Title (DISABLED) =======================================================================================
    /*    var title = new L.Control();
            title.onAdd = function (map) {
                this._div = L.DomUtil.create('div', 'info');
                this.update();
                return this._div;
            };
            title.update = function () {
                this._div.innerHTML = '<h2>Deposits distribution in Tunisia</h2>';
            };
            title.addTo(map);
      */
// ============================================================ Content : abstract (DISABLED) ===================================================================================
      /*      var abstract = new L.Control({'position':'bottomleft'});
            abstract.onAdd = function (map) {
                this._div = L.DomUtil.create('div',
                'leaflet-control abstract');
                this._div.id = 'abstract'

                    abstract.show();
                    return this._div;
                };
                abstract.show = function () {
                    this._div.classList.remove("abstract");
                    this._div.classList.add("abstractUncollapsed");
                    this._div.innerHTML = 'Geological and Geographical distribution of various deposits in Tunisia.';
            };
              abstract.addTo(map);
      */
// ======================================================== Content : Search Icon ================================================================================
        var osmGeocoder = new L.Control.Geocoder({
            collapsed: true,
            position: 'topleft',
            text: 'Search',
            title: 'Testing'
        }).addTo(map);
        document.getElementsByClassName('leaflet-control-geocoder-icon')[0]
        .className += ' fa fa-search';
        document.getElementsByClassName('leaflet-control-geocoder-icon')[0]
        .title += 'Search for a place';

// ========================================================  Content : Legend ====================================================================================
        var baseMaps = {};
        L.control.layers(baseMaps,{'Deposits<br /><table><tr><td style="text-align: center;"></tr><tr><td style="text-align: center;"></td><tr><td style="text-align: center;"><img src="legend/deposits_2_antimonyarseniccategory32.png" /></td><td>antimony - arsenic </td></tr><tr><tr><td style="text-align: center;"><td style="text-align: center;"></td><tr><td style="text-align: center;"><img src="legend/deposits_2_baritestrontianitecategory36.png" /></td><td>barite - strontianite</td></tr><tr><td style="text-align: center;"><tr><td style="text-align: center;"><img src="legend/deposits_2_coppercategory310.png" /></td><td>copper</td></tr><tr><td style="text-align: center;"><img src="legend/deposits_2_fluoritecategory314.png" /></td><td>fluorite</td></tr></tr><tr><td style="text-align: center;"><img src="legend/deposits_2_gazcategory318.png" /></td><td>gaz</td></tr><tr><td style="text-align: center;"><img src="legend/deposits_2_ironcategory322.png" /></td><td>iron</td></tr><tr><td style="text-align: center;"><img src="legend/deposits_2_lignitecategory326.png" /></td><td>lignite</td></tr></td></td><tr><td style="text-align: center;"><img src="legend/deposits_2_manganesecategory330.png" /></td><td>manganese</td></tr></tr></td></td><tr><td style="text-align: center;"><img src="legend/deposits_2_mercurycategory334.png" /></td><td>mercury</td></tr><tr><td style="text-align: center;"><img src="legend/deposits_2_petrolcategory338.png" /></td><td>petrol</td></tr><tr></td><tr><td style="text-align: center;"><img src="legend/deposits_2_phosphatecategory342.png" /></td><td>phosphate</td></tr><tr><td style="text-align: center;"><img src="legend/deposits_2_plombzinccategory346.png" /></td><td>plomb - zinc</td></tr><tr><td style="text-align: center;"><img src="legend/deposits_2_uraniumcategory350.png" /></td><td>uranium</td></tr><tr><td style="text-align: center;"><img src="legend/deposits_2_vanadiumcategory354.png" /></td><td>vanadium</td></tr></table>'
        : layer_deposits_2,'faults'
        : layer_faults_3,'stratigraphy<br /><table><tr><td style="text-align: center;"><img src="legend/stratigraphy_1_quaternary0.png" /></td><td>quaternary</td></tr><tr><td style="text-align: center;"><img src="legend/stratigraphy_1_neogene1.png" /></td><td>neogene</td></tr><tr><td style="text-align: center;"><img src="legend/stratigraphy_1_eoceneoligocene2.png" /></td><td>eocene - oligocene</td></tr><tr><td style="text-align: center;"><img src="legend/stratigraphy_1_cretaceous3.png" /></td><td>cretaceous</td></tr><tr><td style="text-align: center;"><img src="legend/stratigraphy_1_jurassic4.png" /></td><td>jurassic</td></tr><tr><td style="text-align: center;"><img src="legend/stratigraphy_1_triasic5.png" /></td><td>triasic</td></tr><tr><td style="text-align: center;"><img src="legend/stratigraphy_1_permien6.png" /></td><td>permien</td></tr></table>': layer_stratigraphy_1,"ESRI Satellite": layer_ESRISatellite_0,}).addTo(map);
        setBounds();
        var mapDiv = document.getElementById('map');
        var row = document.createElement('div');
        row.className="row";
        row.id="all";
        row.style.height = "100%";
        var col1 = document.createElement('div');
        col1.className="col9";
        col1.id = "mapWindow";
        col1.style.height = "100%";
        col1.style.width = "100%";
        col1.style.display = "inline-block";
        var col2 = document.createElement('div');
        col2.className="col3";
        col2.id = "menu";
        col2.style.display = "inline-block";
        mapDiv.parentNode.insertBefore(row, mapDiv);
        document.getElementById("all").appendChild(col1);
        document.getElementById("all").appendChild(col2);
        col1.appendChild(mapDiv)

        


        // ================================================ init : Filters ================================================================ 
        
        var Filters = {"structure": "str","category": "str","morphology": "str","type": "str","age": "str","status1983": "str"};
        function filterFunc() {
          map.eachLayer(function(lyr){
          if ("options" in lyr && "dataVar" in lyr["options"]){
            features = this[lyr["options"]["dataVar"]].features.slice(0);
            try{
              for (key in Filters){
                keyS = key.replace(/[^a-zA-Z0-9_]/g, "")
                if (Filters[key] == "str" || Filters[key] == "bool"){
                  var selection = [];
                  var options = document.getElementById("sel_" + keyS).options
                  for (var i=0; i < options.length; i++) {
                    if (options[i].selected) selection.push(options[i].value);
                  }
                    try{
                      if (key in features[0].properties){
                        for (i = features.length - 1;
                          i >= 0; --i){
                          if (selection.indexOf(
                          features[i].properties[key])<0
                          && selection.length>0) {
                          features.splice(i,1);
                          }             
                        }
                      }
                    } catch(err){
                  }
                }
                if (Filters[key] == "int"){
                  sliderVals =  document.getElementById(
                    "div_" + keyS).noUiSlider.get();
                  try{
                    if (key in features[0].properties){
                    for (i = features.length - 1; i >= 0; --i){
                      if (parseInt(features[i].properties[key])
                          < sliderVals[0]
                          || parseInt(features[i].properties[key])
                          > sliderVals[1]){
                            features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                    }
                  }
                if (Filters[key] == "real"){
                  sliderVals =  document.getElementById(
                    "div_" + keyS).noUiSlider.get();
                  try{
                    if (key in features[0].properties){
                    for (i = features.length - 1; i >= 0; --i){
                      if (features[i].properties[key]
                          < sliderVals[0]
                          || features[i].properties[key]
                          > sliderVals[1]){
                            features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                    }
                  }
                if (Filters[key] == "date"
                  || Filters[key] == "datetime"
                  || Filters[key] == "time"){
                  try{
                    if (key in features[0].properties){
                      HTMLkey = key.replace(/[&\/\\#,+()$~%.'":*?<>{} ]/g, '');
                      startdate = document.getElementById("dat_" +
                        HTMLkey + "_date1").value.replace(" ", "T");
                      enddate = document.getElementById("dat_" +
                        HTMLkey + "_date2").value.replace(" ", "T");
                      for (i = features.length - 1; i >= 0; --i){
                        if (features[i].properties[key] < startdate
                          || features[i].properties[key] > enddate){
                          features.splice(i,1);
                        }
                      }
                    }
                  } catch(err){
                  }
                }
              }
            } catch(err){
            }
          this[lyr["options"]["layerName"]].clearLayers();
          this[lyr["options"]["layerName"]].addData(features);
          }
          })
        }
// ====================================================== Filter : Type =================================================================== 
document.getElementById("menu1").appendChild(
                document.createElement("div"));
            var div_type = document.createElement('div');
            div_type.id = "div_type";
            div_type.className= "filterselect";
            document.getElementById("menu1").appendChild(div_type);
            sel_type = document.createElement('select');
            sel_type.multiple = true;
            sel_type.size = 3;
            sel_type.id = "sel_type";
            var type_options_str;
            sel_type.onchange = function(){filterFunc()};
            type_options_str  += '<option value="antimony - arsenic">antimony - arsenic</option>';
            type_options_str  += '<option value="barite - strontianite">barite - strontianite</option>';
            type_options_str  += '<option value="copper">copper</option>';
            type_options_str  += '<option value="fluorite">fluorite</option>';
            type_options_str  += '<option value="gaz">gaz</option>';
            type_options_str  += '<option value="iron">iron</option>';
            type_options_str  += '<option value="lignite">lignite</option>';
            type_options_str  += '<option value="manganese">manganese</option>';
            type_options_str  += '<option value="mercury">mercury</option>';
            type_options_str  += '<option value="petrol">petrol</option>';
            type_options_str  += '<option value="phosphate">phosphate</option>';
            type_options_str  += '<option value="plomb - zinc">plomb - zinc</option>';
            type_options_str  += '<option value="uranium">uranium</option>';
            type_options_str  += '<option value="vanadium">vanadium</option>';
            sel_type.innerHTML = type_options_str;
            div_type.appendChild(sel_type);
            var lab_type = document.createElement('div');
            lab_type.innerHTML = 'type';
            lab_type.className = 'filterlabel';
            div_type.appendChild(lab_type);
            var reset_type = document.createElement('div');
            reset_type.innerHTML = 'clear filter';
            reset_type.className = 'filterlabel';
            reset_type.onclick = function() {
                var options = document.getElementById("sel_type").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_type.appendChild(reset_type);
        
// ============================================ Filter : Category =========================================
            document.getElementById("menu1").appendChild(
                document.createElement("div"));
            var div_category = document.createElement('div');
            div_category.id = "div_category";
            div_category.className= "filterselect";
            document.getElementById("menu1").appendChild(div_category);
            sel_category = document.createElement('select');
            sel_category.multiple = true;
            sel_category.size = 3;
            sel_category.id = "sel_category";
            var category_options_str //= "<option value='' unselected></option>";
            sel_category.onchange = function(){filterFunc()};
            category_options_str  += '<option value="category 1">category 1</option>';
            category_options_str  += '<option value="category 2">category 2</option>';
            category_options_str  += '<option value="category 3">category 3</option>';
            category_options_str  += '<option value="index">index</option>';
            sel_category.innerHTML = category_options_str;
            div_category.appendChild(sel_category);
            var lab_category = document.createElement('div');
            lab_category.innerHTML = 'category';
            lab_category.className = 'filterlabel';
            div_category.appendChild(lab_category);
            var reset_category = document.createElement('div');
            reset_category.innerHTML = 'clear filter';
            reset_category.className = 'filterlabel';
            reset_category.onclick = function() {
                var options = document.getElementById("sel_category").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_category.appendChild(reset_category);

// ============================================== Filter : Age =========================================================
          
  document.getElementById("menu1").appendChild(
                document.createElement("div"));
            var div_age = document.createElement('div');
            div_age.id = "div_age";
            div_age.className= "filterselect";
            document.getElementById("menu1").appendChild(div_age);
            sel_age = document.createElement('select');
            sel_age.multiple = true;
            sel_age.size = 3;
            sel_age.id = "sel_age";
            var age_options_str;
            sel_age.onchange = function(){filterFunc()};
            age_options_str  += '<option value="quaternary">quaternary</option>';
            age_options_str  += '<option value="neogene">neogene</option>';
            age_options_str  += '<option value="miocene">miocene</option>';
            age_options_str  += '<option value="eocene - oligocene">eocene - oligocene</option>';
            age_options_str  += '<option value="eocene">eocene</option>';
            age_options_str  += '<option value="cretaceous - eocene">cretaceous - eocene</option>';
            age_options_str  += '<option value="cretaceous">cretaceous</option>';
            age_options_str  += '<option value="jurassic">jurassic</option>';
            age_options_str  += '<option value="triasic">triasic</option>';
            age_options_str  += '<option value="permien">permien</option>';
            age_options_str  += '<option value="ordovician - triasic">ordovician - triasic</option>';
            age_options_str  += '<option value="ordovician">ordovician</option>';
            sel_age.innerHTML = age_options_str;
            div_age.appendChild(sel_age);
            var lab_age = document.createElement('div');
            lab_age.innerHTML = 'age';
            lab_age.className = 'filterlabel';
            div_age.appendChild(lab_age);
            var reset_age = document.createElement('div');
            reset_age.innerHTML = 'clear filter';
            reset_age.className = 'filterlabel';
            reset_age.onclick = function() {
                var options = document.getElementById("sel_age").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_age.appendChild(reset_age);

  // ================================== Filter : Structure ============================================================
            document.getElementById("menu1").appendChild(
                document.createElement("div"));
            var div_structure = document.createElement('div');
            div_structure.id = "div_structure";
            div_structure.className= "filterselect";
            document.getElementById("menu1").appendChild(div_structure);
            sel_structure = document.createElement('select');
            sel_structure.multiple = true;
            sel_structure.size = 3;
            sel_structure.id = "sel_structure";
            var structure_options_str //= "<option value='' unselected></option>";
            sel_structure.onchange = function(){filterFunc()};
            structure_options_str  += '<option value="Miocene basin">Miocene basin</option>';
            structure_options_str  += '<option value="Mole of EL GASRIN">Mole of EL GASRIN</option>';
            structure_options_str  += '<option value="Mole of ZAGHWEN">Mole of ZAGHWEN</option>';
            structure_options_str  += '<option value="Saharan platform">Saharan platform</option>';
            structure_options_str  += '<option value="The Numidian Flysch">The Numidian Flysch</option>';
            structure_options_str  += '<option value="cretaceous - tertiary basin">cretaceous - tertiary basin</option>';
            structure_options_str  += '<option value="cristallyine basement">cristallyine basement</option>';
            structure_options_str  += '<option value="eastern platform">eastern platform</option>';
            structure_options_str  += '<option value="intracratonic basin">intracratonic basin</option>';
            sel_structure.innerHTML = structure_options_str;
            div_structure.appendChild(sel_structure);
            var lab_structure = document.createElement('div');
            lab_structure.innerHTML = 'structure';
            lab_structure.className = 'filterlabel';
            div_structure.appendChild(lab_structure);
            var reset_structure = document.createElement('div');
            reset_structure.innerHTML = 'clear filter';
            reset_structure.className = 'filterlabel';
            reset_structure.onclick = function() {
                var options = document.getElementById("sel_structure").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_structure.appendChild(reset_structure);

// ============================================= Filter Morphology ============================================================

            document.getElementById("menu1").appendChild(
                document.createElement("div"));
            var div_morphology = document.createElement('div');
            div_morphology.id = "div_morphology";
            div_morphology.className= "filterselect";
            document.getElementById("menu1").appendChild(div_morphology);
            sel_morphology = document.createElement('select');
            sel_morphology.multiple = true;
            sel_morphology.size = 3;
            sel_morphology.id = "sel_morphology";
            var morphology_options_str;
            sel_morphology.onchange = function(){filterFunc()};
            morphology_options_str  += '<option value="Stratiform and peneconformable deposit">Stratiform and peneconformable deposit</option>';
            morphology_options_str  += '<option value="deposit in heaps and various">deposit in heaps and various</option>';
            morphology_options_str  += '<option value="petrol and gaz deposit">petrol and gaz deposit</option>';
            morphology_options_str  += '<option value="vein deposit">vein deposit</option>';
            morphology_options_str  += '<option value="unclassified">unclassified</option>';
            sel_morphology.innerHTML = morphology_options_str;
            div_morphology.appendChild(sel_morphology);
            var lab_morphology = document.createElement('div');
            lab_morphology.innerHTML = 'morphology';
            lab_morphology.className = 'filterlabel';
            div_morphology.appendChild(lab_morphology);
            var reset_morphology = document.createElement('div');
            reset_morphology.innerHTML = 'clear filter';
            reset_morphology.className = 'filterlabel';
            reset_morphology.onclick = function() {
                var options = document.getElementById("sel_morphology").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_morphology.appendChild(reset_morphology);

          // ============================================== Filter : Status =============================================================
            document.getElementById("menu1").appendChild(
                document.createElement("div"));
            var div_status1983 = document.createElement('div');
            div_status1983.id = "div_status1983";
            div_status1983.className= "filterselect";
            document.getElementById("menu1").appendChild(div_status1983);
            sel_status1983 = document.createElement('select');
            sel_status1983.multiple = true;
            sel_status1983.size = 2;
            sel_status1983.id = "sel_status1983";
            var status1983_options_str;
            sel_status1983.onchange = function(){filterFunc()};
            status1983_options_str  += '<option value="in-operation">in-operation</option>';
            status1983_options_str  += '<option value="under-research">under-research</option>';
            status1983_options_str  += '<option value="unknown">unknown</option>';
            sel_status1983.innerHTML = status1983_options_str;
            div_status1983.appendChild(sel_status1983);
            var lab_status1983 = document.createElement('div');
            lab_status1983.innerHTML = 'status1983';
            lab_status1983.className = 'filterlabel';
            div_status1983.appendChild(lab_status1983);
            var reset_status1983 = document.createElement('div');
            reset_status1983.innerHTML = 'clear filter';
            reset_status1983.className = 'filterlabel';
            reset_status1983.onclick = function() {
                var options = document.getElementById("sel_status1983").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_status1983.appendChild(reset_status1983);

        

          
            //vicinity map
        basemapURL = "https://api.maptiler.com/maps/ocean/256/{z}/{x}/{y}.png?key=8ZzgJSc08kWBO8wU7Pde"
        
    
        
        var ocean= new L.tileLayer(basemapURL, {minZoom:0,maxZoom:19});
        var miniMap =  new L.Control.MiniMap(ocean, {toggleDisplay: true}).addTo(map);
    

        </script>

      </main>
   
</body>
</html>
